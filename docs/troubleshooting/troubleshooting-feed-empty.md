# 피드가 비어 있을 때 (전체 매칭에 데이터가 안 보일 때)

## 원인

데이터베이스와 RLS(Row Level Security)는 **정상 동작** 중입니다.  
피드에는 **같은 학숙구분(동작관 / 은평관)**을 선택한 회원의 게시글만 보이도록 제한되어 있습니다.

- **RLS 정책**: `matching_posts` 테이블의 `"Users can view same dormitory active posts"`  
  → `dormitory = (SELECT dormitory FROM profiles WHERE id = auth.uid())`  
  → 즉, **내 프로필의 학숙구분과 동일한** 게시글만 조회됩니다.

## 확인 사항

1. **두 계정이 같은 학숙구분인지**
   - 계정 A: 온보딩에서 **동작관** 선택  
   - 계정 B: 온보딩에서 **은평관** 선택  
   → 서로 다른 학숙구분이면 **서로의 게시글이 보이지 않습니다.**

2. **테스트 방법**
   - 두 계정 모두 **동작관** 또는 **은평관** 중 **같은 것**을 선택한 뒤 온보딩을 완료하세요.
   - 한 계정으로 로그인 후 전체 매칭(피드)에 들어가면, 다른 계정의 게시글이 보여야 합니다.

3. **본인 게시글은 안 보임**
   - 피드에서는 **본인** 매칭 게시글은 제외하고 보여줍니다.  
   - 따라서 회원이 1명이면 피드는 비어 있고, **2명 이상**이어야 다른 사람 글이 보입니다.

## 요약

| 조건 | 피드에 보이는지 |
|------|------------------|
| 다른 계정 1개, **같은 학숙구분** | ✅ 보임 |
| 다른 계정 1개, **다른 학숙구분** | ❌ 안 보임 |
| 본인만 있음 (다른 회원 없음) | ❌ 비어 있음 (본인 제외) |

같은 학숙구분으로 두 계정을 만든 뒤 다시 확인해 보시고, 그래도 비어 있으면 Supabase 대시보드에서 `matching_posts`, `profiles` 테이블에 데이터가 들어갔는지 확인해 보세요.
